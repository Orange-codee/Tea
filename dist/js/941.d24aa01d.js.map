{"version":3,"file":"js/941.d24aa01d.js","mappings":"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","sources":["webpack://final/./src/components/ProgressBar.vue","webpack://final/./src/components/ProgressBar.vue?6a3a","webpack://final/./src/views/Front/CartView.vue","webpack://final/./src/views/Front/CartView.vue?2af0"],"sourcesContent":["<template>\n  <div class=\"my-5\">\n    <ul class=\"progressbar list-unstyled d-flex justify-content-between\">\n      <li class=\"active\">查看購物明細</li>\n      <li>填寫訂單資料</li>\n      <li>確認訂單完成</li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.progressbar {\n  counter-reset: num;\n  li {\n    width: 33.3%;\n    text-align: center;\n    position: relative;\n    //數字\n    &::before {\n      counter-increment: num;\n      content: counter(num);\n      border: 2px solid #ddd;\n      display: block;\n      width: 30px;\n      height: 30px;\n      border-radius: 50%;\n      text-align: center;\n      margin: 0 auto 10px auto;\n      line-height: 25px;\n      background-color: white;\n      font-size: 14px;\n      font-weight: bold;\n    }\n    // 後方線條\n    &:after {\n      content: '';\n      position: absolute;\n      width: 100%;\n      height: 2px;\n      background-color: #ddd;\n      top: 15px;\n      left: -50%;\n      z-index: -9;\n    }\n    // 去除最前方的線\n    &:first-child {\n      &:after {\n        content: none;\n      }\n    }\n  }\n}\n.progressbar li.active {\n  color: #1a4d2e;\n  &:before {\n    border-color: #1a4d2e;\n    color: #1a4d2e;\n  }\n}\n.progressbar li.active + li:after {\n  background-color: #1a4d2e;\n}\n</style>\n","import { render } from \"./ProgressBar.vue?vue&type=template&id=697c49d9\"\nconst script = {}\n\nimport \"./ProgressBar.vue?vue&type=style&index=0&id=697c49d9&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"container\">\n    <ProgressBar></ProgressBar>\n    <div class=\"row\">\n      <div class=\"col-md-8 mb-4 mx-auto\">\n        <h5 class=\"text-center py-3 bg-5 text-white rounded mt-4\">\n          <i class=\"bi bi-cart-fill\" style=\"font-size: 1.5rem\"></i>\n          購物車\n        </h5>\n        <div class=\"text-center mt-5\" v-if=\"!cart.carts.length\">\n          <p class=\"h3 mb-5\">購物車還是空的喔！</p>\n          <p class=\"h5 text-secondary\">\n            再忙，也別忘了犒賞自己唷！ <i class=\"far fa-smile-wink\"></i>\n          </p>\n          <div class=\"mt-5\">\n            <router-link to=\"/products\" class=\"btn btn-primary btn-lg\">來去逛逛</router-link>\n          </div>\n        </div>\n        <div v-else>\n          <table class=\"table text-center\">\n            <tbody>\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                <td class=\"align-middle text-center\" width=\"30\">\n                  <a @click.prevent=\"removeCartItem(item.id)\" href=\"#\" class=\"text-secondary\">\n                    <i class=\"bi bi-trash3\"><span style=\"font-size: 0rem\">刪除</span></i>\n                  </a>\n                </td>\n                <td class=\"align-middle\" width=\"100\">\n                  <img :src=\"item.product.imageUrl\" width=\"100%\" :alt=\"item.product.title\" />\n                </td>\n                <td class=\"align-middle\">{{ item.product.title }}</td>\n                <td class=\"align-middle\" width=\"100\">\n                  <div class=\"input-group input-group-sm\">\n                    <label for=\"unit\"></label\n                    ><input\n                      @change=\"updateCart(item.id, item.qty)\"\n                      v-model.number=\"item.qty\"\n                      min=\"1\"\n                      id=\"unit\"\n                      type=\"number\"\n                      class=\"form-control\"\n                    />\n                    <div class=\"input-group-text rounded-0\">/ {{ item.product.unit }}</div>\n                  </div>\n                </td>\n                <td class=\"align-middle text-end\">${{ $filters.currency(item.final_total) }}</td>\n              </tr>\n            </tbody>\n          </table>\n          <div class=\"input-group mb-3 input-group-sm\">\n            <label for=\"coupon\"></label\n            ><input\n              v-model=\"coupon\"\n              id=\"coupon\"\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入優惠碼\"\n            />\n            <div class=\"input-group-append\">\n              <button @click.prevent=\"addCoupon\" class=\"btn btn-outline-secondary\" type=\"button\">\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n          <div>\n            <table class=\"table mt-4\">\n              <tbody>\n                <tr class=\"h5\">\n                  <td colspan=\"4\" class=\"text-end\">\n                    <strong>共計</strong>\n                  </td>\n                  <td class=\"text-end\">\n                    <strong>${{ $filters.currency(cart.final_total) }}</strong>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"form-row d-flex\">\n            <div class=\"d-grid col m-1\">\n              <router-link to=\"/products\" class=\"btn btn-outline-secondary\">\n                <i class=\"bi bi-caret-left-fill mr-2\"></i>\n                繼續購物\n              </router-link>\n            </div>\n            <div class=\"d-grid col m-1\">\n              <router-link to=\"/order\" class=\"btn btn-primary text-white\">\n                繼續付款\n                <i class=\"bi bi-caret-right-fill ml-2\"></i>\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ProgressBar from '@/components/ProgressBar.vue';\n\nexport default {\n  components: {\n    ProgressBar,\n  },\n  data() {\n    return {\n      cart: {\n        carts: [],\n        total: 0,\n        final_total: 0,\n      },\n      coupon: '',\n    };\n  },\n  methods: {\n    getCart() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(api).then((res) => {\n        this.cart = res.data.data;\n        console.log('取得購物車', this.cart);\n      });\n    },\n    removeCartItem(id) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.$http.delete(api).then((res) => {\n        console.log('刪除', res);\n        this.getCart();\n        this.emitter.emit('resetCart');\n      });\n    },\n    updateCart(id, count = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      const newCart = { product_id: id, qty: count };\n      this.$http.put(api, { data: newCart }).then((res) => {\n        console.log('更新購物車', res);\n        this.emitter.emit('resetCart');\n        this.getCart();\n      });\n    },\n    addCoupon() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      this.$http.post(api, { data: { code: this.coupon } }).then((res) => {\n        console.log('添加優惠券', res);\n        this.emitter.emit('resetCart');\n        this.getCart();\n      });\n    },\n  },\n  created() {\n    this.getCart();\n    this.emitter.on('resetCartFromNav', this.getCart);\n  },\n};\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=f10ba9c0\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_3","script","__exports__","render","style","_createTextVNode","key","width","_hoisted_13","for","colspan","_createVNode","_component_ProgressBar","_hoisted_4","$data","cart","carts","length","_hoisted_9","_hoisted_10","_Fragment","_renderList","item","id","_hoisted_11","onClick","_withModifiers","$event","$options","removeCartItem","href","_hoisted_14","_hoisted_12","_hoisted_15","src","product","imageUrl","alt","title","_hoisted_16","_hoisted_17","_toDisplayString","_hoisted_18","_hoisted_19","_hoisted_20","onChange","updateCart","qty","min","type","_hoisted_21","number","_hoisted_22","unit","_hoisted_23","_ctx","$filters","currency","final_total","_hoisted_24","_hoisted_25","_cache","coupon","placeholder","_hoisted_26","args","addCoupon","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_component_router_link","to","default","_withCtx","_hoisted_33","_","_hoisted_34","_hoisted_35","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","components","ProgressBar","data","total","methods","getCart","api","this","$http","get","then","res","console","log","delete","emitter","emit","count","newCart","product_id","put","post","code","created","on"],"sourceRoot":""}