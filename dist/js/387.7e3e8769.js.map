{"version":3,"file":"js/387.7e3e8769.js","mappings":"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","sources":["webpack://final/./src/components/PaginationItem.vue","webpack://final/./src/components/PaginationItem.vue?58e5","webpack://final/./src/views/Admin/OrdersView.vue","webpack://final/./src/components/OrderModal.vue","webpack://final/./src/components/OrderModal.vue?b91a","webpack://final/./src/views/Admin/OrdersView.vue?e514"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\">\n        <a\n          @click.prevent=\"updatePage(pages.current_page - 1)\"\n          :class=\"{ disabled: !pages.has_pre }\"\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Previous\"\n        >\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li v-for=\"page in pages.total_pages\" :key=\"page\" class=\"page-item\">\n        <a\n          @click.prevent=\"updatePage(page)\"\n          :class=\"{ active: pages.current_page == page }\"\n          class=\"page-link\"\n          href=\"#\"\n          >{{ page }}</a\n        >\n      </li>\n      <li class=\"page-item\">\n        <a\n          @click.prevent=\"updatePage(pages.current_page + 1)\"\n          :class=\"{ disabled: !pages.has_next }\"\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Next\"\n        >\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n// @emitPages=\"更新頁面事件\"\nexport default {\n  props: ['pages'],\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-pages', page);\n      console.log(typeof page);\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationItem.vue?vue&type=template&id=a6425ba8\"\nimport script from \"./PaginationItem.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th>購買時間</th>\n        <th>Email</th>\n        <th>訂單內容</th>\n        <th>訂單備註</th>\n        <th>應付金額</th>\n        <th>是否付款</th>\n        <th>編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <template v-for=\"item in orders\" :key=\"item.id\">\n        <tr v-if=\"orders.length\" :class=\"{ 'text-secondary': !item.is_paid }\">\n          <td>{{ $filters.date(item.create_at) }}</td>\n          <td>{{ item.user.email }}</td>\n          <td>\n            <ul class=\"list-unstyled\">\n              <li v-for=\"(product, i) in item.products\" :key=\"i\">\n                {{ product.product.title\n                }}<span> 數量：{{ product.qty }}{{ product.product.unit }}</span>\n              </li>\n            </ul>\n          </td>\n          <td>{{ item.message }}</td>\n          <td>{{ $filters.currency(item.total) }}</td>\n          <td>\n            <div class=\"form-check form-switch\">\n              <input\n                v-model=\"item.is_paid\"\n                @change=\"updatePaid(item)\"\n                class=\"form-check-input\"\n                type=\"checkbox\"\n                :id=\"`paidSwitch${item.id}`\"\n              />\n              <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\"\n                ><span v-if=\"item.is_paid\" class=\"text-success\">已付款</span\n                ><span v-else>未付款</span></label\n              >\n            </div>\n          </td>\n          <td>\n            <div class=\"btn-group\">\n              <button @click=\"openModal(item)\" class=\"btn btn-outline-primary btn-sm\">檢視</button>\n              <button @click=\"openDelModal(item)\" class=\"btn btn-outline-danger btn-sm\">\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </template>\n    </tbody>\n  </table>\n  <Pagination :pages=\"pagination\" @emit-pages=\"getOrders\"></Pagination>\n  <OrderModal ref=\"orderModal\" :order=\"tempOrder\" @update-order=\"updatePaid\"></OrderModal>\n  <DelModal ref=\"delModal\" :item=\"tempOrder\" @del-product=\"delOrder\"></DelModal>\n</template>\n\n<style>\ntr.text-secondary td,\ntr.text-secondary th {\n  color: inherit;\n}\n</style>\n\n<script>\nimport Pagination from '@/components/PaginationItem.vue';\nimport OrderModal from '@/components/OrderModal.vue';\nimport DelModal from '@/components/DelModal.vue';\n\nexport default {\n  components: {\n    Pagination,\n    OrderModal,\n    DelModal,\n  },\n  data() {\n    return {\n      orders: [],\n      pagination: {},\n      tempOrder: {},\n    };\n  },\n  methods: {\n    getOrders(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`;\n      this.$http.get(api).then((res) => {\n        console.log('取得訂單列表', res);\n        if (res.data.success) {\n          this.orders = res.data.orders;\n          this.pagination = res.data.pagination;\n        }\n      });\n    },\n    openModal(item) {\n      this.tempOrder = { ...item };\n      this.$refs.orderModal.showModal();\n    },\n    updatePaid(item) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      const paid = { is_paid: item.is_paid };\n      console.log('paid', paid);\n      this.$http.put(api, { data: paid }).then((res) => {\n        console.log('更新付款狀態', res);\n        this.$httpMessageState(res, '更新付款狀態');\n        const currentPage = this.pagination.current_page;\n        this.getOrders(currentPage);\n      });\n      this.$refs.orderModal.hideModal();\n    },\n    openDelModal(item) {\n      this.tempOrder = { ...item };\n      this.$refs.delModal.showModal();\n    },\n    delOrder(item) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      this.$http.delete(api).then((res) => {\n        console.log('刪除訂單', res);\n        this.$httpMessageState(res, '刪除訂單');\n        const currentPage = this.pagination.current_page;\n        this.getOrders(currentPage);\n      });\n      this.$refs.delModal.hideModal();\n    },\n  },\n  created() {\n    this.getOrders();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <h3>用戶資料</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th style=\"width: 100px\">姓名</th>\n                    <td>{{ tempOrder.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>Email</th>\n                    <td>{{ tempOrder.user.email }}</td>\n                  </tr>\n                  <tr>\n                    <th>電話</th>\n                    <td>{{ tempOrder.user.tel }}</td>\n                  </tr>\n                  <tr>\n                    <th>地址</th>\n                    <td>{{ tempOrder.user.address }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"col-sm-8\">\n              <h3>訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th style=\"width: 100px\">訂單編號</th>\n                    <td>{{ tempOrder.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間</th>\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td v-if=\"tempOrder.paid_date\">{{ $filters.date(tempOrder.paid_date) }}</td>\n                    <td v-else>無</td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong\n                      ><span v-else class=\"text-muted\">未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額</th>\n                    <td>{{ $filters.currency(tempOrder.total) }}</td>\n                  </tr>\n                </tbody>\n              </table>\n              <h3>選購商品</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                    <th>{{ item.product.title }}</th>\n                    <td>{{ item.qty }}/{{ item.product.unit }}</td>\n                    <td>{{ $filters.currency(item.final_total) }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-order', tempOrder)\">\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  watch: {\n    order() {\n      this.tempOrder = this.order;\n    },\n  },\n  data() {\n    return {\n      modal: '',\n      tempOrder: {\n        products: {},\n        user: {},\n      },\n    };\n  },\n  emits: ['update-order'],\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=8a440c60\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrdersView.vue?vue&type=template&id=85634472\"\nimport script from \"./OrdersView.vue?vue&type=script&lang=js\"\nexport * from \"./OrdersView.vue?vue&type=script&lang=js\"\n\nimport \"./OrdersView.vue?vue&type=style&index=0&id=85634472&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","_withModifiers","$event","$options","updatePage","$props","pages","current_page","_normalizeClass","disabled","has_pre","href","_hoisted_5","_Fragment","_renderList","total_pages","page","key","active","_hoisted_6","_hoisted_7","has_next","_hoisted_9","props","methods","this","$emit","console","log","__exports__","render","$data","orders","item","id","length","is_paid","_toDisplayString","_ctx","$filters","date","create_at","user","email","products","product","i","_createTextVNode","title","qty","unit","message","currency","total","onChange","updatePaid","type","for","openModal","_hoisted_10","openDelModal","_hoisted_11","_createCommentVNode","_createVNode","_component_Pagination","pagination","onEmitPages","getOrders","_component_OrderModal","ref","order","tempOrder","onUpdateOrder","_component_DelModal","onDelProduct","delOrder","tabindex","role","style","name","_hoisted_12","tel","_hoisted_13","address","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","paid_date","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","final_total","_hoisted_28","_hoisted_29","Object","default","watch","data","modal","emits","mixins","modalMixin","components","Pagination","OrderModal","DelModal","api","$http","get","then","res","success","$refs","orderModal","showModal","paid","put","$httpMessageState","currentPage","hideModal","delModal","delete","created"],"sourceRoot":""}