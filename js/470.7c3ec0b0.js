"use strict";(self["webpackChunkfinal"]=self["webpackChunkfinal"]||[]).push([[470],{3803:function(t,s,e){e.d(s,{A:function(){return u}});var r=e(6768);const l={class:"my-5"},d=(0,r.Lk)("ul",{class:"progressbar list-unstyled d-flex justify-content-between"},[(0,r.Lk)("li",{class:"active"},"查看購物明細"),(0,r.Lk)("li",null,"填寫訂單資料"),(0,r.Lk)("li",null,"確認訂單完成")],-1),a=[d];function n(t,s){return(0,r.uX)(),(0,r.CE)("div",l,a)}var i=e(1241);const c={},o=(0,i.A)(c,[["render",n]]);var u=o},1470:function(t,s,e){e.r(s),e.d(s,{default:function(){return j}});var r=e(6768),l=e(4232);const d={class:"container"},a={class:"row my-5"},n={class:"col-md-6"},i=(0,r.Lk)("h3",{class:"my-3"},"訂單明細",-1),c={class:"pe-3"},o={class:"table text-center"},u=(0,r.Lk)("td",{class:"align-middle text-center",width:"30"},null,-1),p={class:"align-middle",width:"100"},k=["src","alt"],h={class:"align-middle"},L={class:"align-middle",width:"100"},v={class:"align-middle text-end"},y={class:"table mt-3"},g={class:"h5"},f=(0,r.Lk)("td",{colspan:"4",class:"text-end"},[(0,r.Lk)("strong",null,"共計")],-1),m={class:"text-end"},b=(0,r.Lk)("td",{colspan:"4",class:"text-end"},"訂單狀態",-1),x={class:"text-end"},_={key:0,class:"text-success"},C={key:1,class:"text-danger"},$={class:"d-flex justify-content-end"},w=["disabled"],E=(0,r.Lk)("div",{class:"col-md-6"},[(0,r.Lk)("h3",{class:"my-3"},"訂單成立"),(0,r.Lk)("p",{class:"fs-4"},"感謝您訂購本公司茶品，收到訂單後，預計1~2天出貨，請您耐心等候。")],-1);function I(t,s,e,I,O,X){const q=(0,r.g2)("ProgressBar");return(0,r.uX)(),(0,r.CE)("div",d,[(0,r.bF)(q),(0,r.Lk)("div",a,[(0,r.Lk)("div",n,[i,(0,r.Lk)("div",c,[(0,r.Lk)("table",o,[(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(O.order.products,(s=>((0,r.uX)(),(0,r.CE)("tr",{key:s.product.id},[u,(0,r.Lk)("td",p,[(0,r.Lk)("img",{src:s.product.imageUrl,width:"100%",alt:s.product.title},null,8,k)]),(0,r.Lk)("td",h,(0,l.v_)(s.product.title),1),(0,r.Lk)("td",L,(0,l.v_)(s.qty)+" "+(0,l.v_)(s.product.unit),1),(0,r.Lk)("td",v,"$"+(0,l.v_)(t.$filters.currency(s.final_total)),1)])))),128))])]),(0,r.Lk)("table",y,[(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",g,[f,(0,r.Lk)("td",m,[(0,r.Lk)("strong",null,"$"+(0,l.v_)(t.$filters.currency(O.order.total)),1)])]),(0,r.Lk)("tr",null,[b,(0,r.Lk)("td",x,[O.is_paid?((0,r.uX)(),(0,r.CE)("span",_,"付款完成")):((0,r.uX)(),(0,r.CE)("span",C,"尚未付款"))])])])]),(0,r.Lk)("div",$,[(0,r.Lk)("button",{disabled:O.is_paid,onClick:s[0]||(s[0]=(...t)=>X.payOrder&&X.payOrder(...t)),class:"btn btn-primary",type:"button"}," 進行付款 ",8,w)])])]),E])])}var O=e(3803),X={components:{ProgressBar:O.A},data(){return{order:{},orderId:"",is_paid:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/qq-api/order/${this.orderId}`;this.$http.get(t).then((t=>{console.log("取得訂單",t),this.order=t.data.order,this.is_paid=t.data.order.is_paid}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/qq-api/pay/${this.orderId}`;this.$http.post(t).then((t=>{console.log("付款",t),t.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},q=e(1241);const A=(0,q.A)(X,[["render",I]]);var j=A}}]);
//# sourceMappingURL=470.7c3ec0b0.js.map