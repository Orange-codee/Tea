{"version":3,"file":"js/167.51cba4f8.js","mappings":"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","sources":["webpack://final/./src/views/Front/UserProducts.vue","webpack://final/./src/views/Front/UserProducts.vue?d528"],"sourcesContent":["<template>\n  <!-- eslint-disable max-len -->\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\n  <div class=\"container\">\n    <div class=\"row mt-4 mb-4\">\n      <!-- list -->\n      <div class=\"col-lg-3\">\n        <ul class=\"list-group writing-list-group bg-3 rounded-0\">\n          <li class=\"list-group-item bg-3 rounded-0\">\n            <a\n              @click.prevent=\"selectedCategories('')\"\n              href=\"#\"\n              class=\"writing-list-group-item fs-5 Serif-TC fw-bolder nature-1 text-decoration-none\"\n              :class=\"{ 'a-active': selectedCategory === '' }\"\n              >全部</a\n            >\n          </li>\n          <li\n            v-for=\"(item, index) in categories\"\n            :key=\"'category' + index\"\n            class=\"list-group-item bg-3 rounded-0\"\n          >\n            <a\n              @click.prevent=\"selectedCategories(item)\"\n              :class=\"{ 'a-active': selectedCategory === item }\"\n              href=\"#\"\n              class=\"writing-list-group-item fs-5 Serif-TC fw-bolder nature-1 text-decoration-none\"\n              >{{ item }}</a\n            >\n          </li>\n        </ul>\n      </div>\n      <!-- products -->\n      <div class=\"col-lg-9\">\n        <section class=\"my-1\">\n          <h3 v-if=\"selectedCategory === ''\" class=\"fs-4 Serif-TC fw-bolder nature-1\">\n            茶藝用品 / 全部\n          </h3>\n          <h3 v-else class=\"fs-4 Serif-TC fw-bolder nature-1\">茶藝用品 / {{ selectedCategory }}</h3>\n        </section>\n        <div class=\"row\">\n          <div v-for=\"item in filterPageData\" :key=\"item.id\" class=\"col-lg-4 col-md-6 mb-3\">\n            <a @click.prevent=\"getProduct(item.id)\" href=\"#\" class=\"text-decoration-none\"\n              ><div class=\"card rounded-0 h-100 w-100\">\n                <div class=\"position-relative\">\n                  <img\n                    :src=\"item.imageUrl\"\n                    class=\"card-img-top rounded-0 objfit\"\n                    style=\"height: 30vh\"\n                    :alt=\"item.title\"\n                  />\n                  <span\n                    class=\"border border-white position-absolute top-50 start-50 translate-middle px-2 py-1\"\n                    ><h2 class=\"Serif-TC fs-3 fw-bolder text-white text-nowrap mb-0\">\n                      {{ item.title }}\n                    </h2></span\n                  >\n                </div>\n                <div\n                  class=\"card-body d-flex justify-content-between align-items-baseline pt-3 pb-2\"\n                >\n                  <p class=\"fs-5\">${{ item.price }}</p>\n                  <button\n                    @click.stop.prevent=\"addToCart(item)\"\n                    type=\"button\"\n                    class=\"btn fs-5 brown-2 p-0 card-link\"\n                  >\n                    加入購物車\n                  </button>\n                </div>\n              </div></a\n            >\n          </div>\n        </div>\n        <!-- 分頁 -->\n        <nav aria-label=\"Page navigation example \">\n          <ul class=\"pagination justify-content-center\">\n            <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n              <a\n                v-if=\"currentPage === 1\"\n                tabindex=\"-1\"\n                @click.prevent=\"switchPage(currentPage - 1)\"\n                class=\"page-link nature-1 writing-page-group-item rounded-0\"\n                href=\"#\"\n                aria-label=\"Previous\"\n              >\n                <span aria-hidden=\"true\">&laquo;</span>\n              </a>\n              <a\n                v-else\n                @click.prevent=\"switchPage(currentPage - 1)\"\n                class=\"page-link nature-1 writing-page-group-item rounded-0\"\n                href=\"#\"\n                aria-label=\"Previous\"\n              >\n                <span aria-hidden=\"true\">&laquo;</span>\n              </a>\n            </li>\n            <li class=\"page-item d-flex rounded-0\">\n              <a\n                @click.prevent=\"switchPage(page)\"\n                v-for=\"(page, index) in Math.ceil(filtercategories.length / limit)\"\n                :key=\"'page' + index\"\n                class=\"page-link nature-1 writing-page-group-item rounded-0\"\n                :class=\"{ 'bg-2': currentPage === page, 'text-white': currentPage === page }\"\n                href=\"#\"\n                >{{ page }}</a\n              >\n            </li>\n            <li\n              class=\"page-item rounded-0\"\n              :class=\"{ disabled: currentPage === Math.ceil(filtercategories.length / limit) }\"\n            >\n              <a\n                v-if=\"currentPage === Math.ceil(filtercategories.length / limit)\"\n                tabindex=\"-1\"\n                @click.prevent=\"switchPage(currentPage + 1)\"\n                class=\"page-link nature-1 writing-page-group-item rounded-0\"\n                href=\"#\"\n                aria-label=\"Next\"\n              >\n                <span aria-hidden=\"true\">&raquo;</span>\n              </a>\n              <a\n                v-else\n                @click.prevent=\"switchPage(currentPage + 1)\"\n                class=\"page-link nature-1 writing-page-group-item rounded-0\"\n                href=\"#\"\n                aria-label=\"Next\"\n              >\n                <span aria-hidden=\"true\">&raquo;</span>\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      pagination: {},\n      products: [],\n      categories: [],\n      selectedCategory: '',\n      isLoading: false,\n      limit: 6,\n      // 控制一頁幾個\n      currentPage: 1,\n    };\n  },\n  methods: {\n    getProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api).then((res) => {\n        console.log('產品列表', res);\n        this.pagination = res.data.pagination;\n        this.products = res.data.products;\n        this.getCategories();\n      });\n    },\n    getCategories() {\n      const categories = new Set();\n      this.products.forEach((product) => {\n        categories.add(product.category);\n      });\n      this.categories = [...categories];\n    },\n    selectedCategories(item) {\n      this.selectedCategory = item;\n      this.currentPage = 1;\n    },\n    switchPage(page = 1) {\n      this.currentPage = page;\n      console.log(this.currentPage);\n    },\n    addToCart(item) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = { product_id: item.id, qty: 1 };\n      this.$http.post(api, { data: cart }).then((res) => {\n        console.log('addToCart', res);\n        this.emitter.emit('resetCart');\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/products/${id}`);\n    },\n  },\n  computed: {\n    filtercategories() {\n      if (this.selectedCategory) {\n        return this.products.filter((item) => item.category.match(this.selectedCategory));\n      }\n      return this.products;\n    },\n    filterPageData() {\n      return this.filtercategories.slice(\n        this.currentPage * this.limit - this.limit,\n        this.currentPage * this.limit,\n      );\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./UserProducts.vue?vue&type=template&id=745abb55\"\nimport script from \"./UserProducts.vue?vue&type=script&lang=js\"\nexport * from \"./UserProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementVNode","_hoisted_23","_hoisted_25","_hoisted_29","_hoisted_31","_createElementBlock","_Fragment","_createVNode","_component_LoadingComponent","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onClick","_cache","_withModifiers","$event","$options","selectedCategories","href","_normalizeClass","selectedCategory","_renderList","categories","item","index","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","_hoisted_11","filterPageData","id","getProduct","_hoisted_13","_hoisted_14","src","imageUrl","style","alt","title","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","price","addToCart","type","_hoisted_20","_hoisted_12","_hoisted_21","_hoisted_22","disabled","currentPage","tabindex","switchPage","_hoisted_24","_hoisted_26","_hoisted_27","Math","ceil","filtercategories","length","limit","page","_hoisted_28","_hoisted_30","_hoisted_32","data","pagination","products","methods","getProducts","api","this","$http","get","then","res","console","log","getCategories","Set","forEach","product","add","category","cart","product_id","qty","post","emitter","emit","$router","push","computed","filter","match","slice","created","__exports__","render"],"sourceRoot":""}