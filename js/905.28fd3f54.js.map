{"version":3,"file":"js/905.28fd3f54.js","mappings":"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","sources":["webpack://final/./src/components/ProgressBar.vue","webpack://final/./src/components/ProgressBar.vue?6a3a","webpack://final/./src/views/Front/OrderView.vue","webpack://final/./src/views/Front/OrderView.vue?2f58"],"sourcesContent":["<template>\n  <div class=\"my-5\">\n    <ul class=\"progressbar list-unstyled d-flex justify-content-between\">\n      <li class=\"active\">查看購物明細</li>\n      <li>填寫訂單資料</li>\n      <li>確認訂單完成</li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.progressbar {\n  counter-reset: num;\n  li {\n    width: 33.3%;\n    text-align: center;\n    position: relative;\n    //數字\n    &::before {\n      counter-increment: num;\n      content: counter(num);\n      border: 2px solid #ddd;\n      display: block;\n      width: 30px;\n      height: 30px;\n      border-radius: 50%;\n      text-align: center;\n      margin: 0 auto 10px auto;\n      line-height: 25px;\n      background-color: white;\n      font-size: 14px;\n      font-weight: bold;\n    }\n    // 後方線條\n    &:after {\n      content: '';\n      position: absolute;\n      width: 100%;\n      height: 2px;\n      background-color: #ddd;\n      top: 15px;\n      left: -50%;\n      z-index: -9;\n    }\n    // 去除最前方的線\n    &:first-child {\n      &:after {\n        content: none;\n      }\n    }\n  }\n}\n.progressbar li.active {\n  color: #1a4d2e;\n  &:before {\n    border-color: #1a4d2e;\n    color: #1a4d2e;\n  }\n}\n.progressbar li.active + li:after {\n  background-color: #1a4d2e;\n}\n</style>\n","import { render } from \"./ProgressBar.vue?vue&type=template&id=697c49d9\"\nconst script = {}\n\nimport \"./ProgressBar.vue?vue&type=style&index=0&id=697c49d9&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"container\">\n    <ProgressBar></ProgressBar>\n    <div class=\"row my-5\">\n      <router-link to=\"/cart\" class=\"h5 back-to-cart\"\n        ><i class=\"bi bi-caret-left-fill mr-2\"></i>返回購物車清單\n      </router-link>\n      <div class=\"col-md-6\">\n        <h3 class=\"my-3\">訂單明細</h3>\n        <div class=\"px-3\">\n          <table class=\"table text-center\">\n            <tbody>\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                <td class=\"align-middle text-center\" width=\"30\"></td>\n                <td class=\"align-middle\" width=\"100\">\n                  <img :src=\"item.product.imageUrl\" width=\"100%\" :alt=\"item.product.title\" />\n                </td>\n                <td class=\"align-middle\">{{ item.product.title }}</td>\n                <td class=\"align-middle\" width=\"100\">{{ item.qty }} {{ item.product.unit }}</td>\n                <td class=\"align-middle text-end\">${{ $filters.currency(item.final_total) }}</td>\n              </tr>\n            </tbody>\n          </table>\n          <table class=\"table mt-3\">\n            <tbody>\n              <tr v-if=\"cart.final_total !== cart.total\">\n                <td colspan=\"5\" class=\"text-end text-primary\">已套用優惠券</td>\n              </tr>\n              <tr class=\"h5\">\n                <td colspan=\"4\" class=\"text-end\">\n                  <strong>共計</strong>\n                </td>\n                <td class=\"text-end\">\n                  <strong>${{ $filters.currency(cart.final_total) }}</strong>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class=\"col-md-6\">\n        <h3 class=\"my-3\">顧客資訊</h3>\n        <v-form v-slot=\"{ errors }\" @submit=\"createOrder\">\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\">Email</label>\n            <v-field\n              v-model=\"form.user.email\"\n              :class=\"{ 'is-invalid': errors['email'] }\"\n              rules=\"required\"\n              name=\"email\"\n              type=\"email\"\n              class=\"form-control\"\n              id=\"email\"\n              placeholder=\"請輸入Email\"\n            ></v-field>\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\">收件人姓名</label>\n            <v-field\n              v-model=\"form.user.name\"\n              :class=\"{ 'is-invalid': errors['姓名'] }\"\n              rules=\"required\"\n              name=\"姓名\"\n              type=\"text\"\n              class=\"form-control\"\n              id=\"name\"\n              placeholder=\"請輸入姓名\"\n            ></v-field>\n            <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\">收件人電話</label>\n            <v-field\n              v-model=\"form.user.tel\"\n              :class=\"{ 'is-invalid': errors['電話'] }\"\n              rules=\"required\"\n              name=\"電話\"\n              type=\"tel\"\n              class=\"form-control\"\n              id=\"tel\"\n              placeholder=\"請輸入電話\"\n            ></v-field>\n            <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\">收件人地址</label>\n            <v-field\n              v-model=\"form.user.address\"\n              :class=\"{ 'is-invalid': errors['地址'] }\"\n              rules=\"required\"\n              name=\"地址\"\n              type=\"text\"\n              class=\"form-control\"\n              id=\"address\"\n              placeholder=\"請輸入地址\"\n            ></v-field>\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">備註</label>\n            <textarea\n              v-model=\"form.message\"\n              type=\"text\"\n              class=\"form-control\"\n              id=\"message\"\n              cols=\"30\"\n              rows=\"10\"\n            ></textarea>\n          </div>\n          <div class=\"text-end\">\n            <button class=\"btn btn-primary\">送出訂單</button>\n          </div>\n        </v-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ProgressBar from '@/components/ProgressBar.vue';\n\nexport default {\n  components: {\n    ProgressBar,\n  },\n  data() {\n    return {\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      cart: {\n        carts: [],\n        total: 0,\n        final_total: 0,\n      },\n    };\n  },\n  methods: {\n    createOrder() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      this.$http.post(api, { data: this.form }).then((res) => {\n        console.log('建立訂單', res);\n        if (res.data.success) {\n          this.form = {\n            user: {\n              name: '',\n              email: '',\n              tel: '',\n              address: '',\n            },\n            message: '',\n          };\n          this.emitter.emit('resetCart');\n          this.$router.push(`/checkout/${res.data.orderId}`);\n        }\n      });\n    },\n    getCart() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(api).then((res) => {\n        this.cart = res.data.data;\n        console.log('取得購物車', this.cart);\n      });\n    },\n  },\n  created() {\n    this.getCart();\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.progressbar {\n  li {\n    &:nth-child(2) {\n      &::before {\n        border-color: #1a4d2e;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./OrderView.vue?vue&type=template&id=a2958576\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport \"./OrderView.vue?vue&type=style&index=0&id=a2958576&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_3","script","__exports__","render","width","key","colspan","_hoisted_16","for","_createVNode","_component_ProgressBar","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","$data","cart","carts","item","id","_hoisted_8","_hoisted_9","src","product","imageUrl","alt","title","_hoisted_10","_hoisted_11","_toDisplayString","_hoisted_12","qty","unit","_hoisted_13","_ctx","$filters","currency","final_total","_hoisted_14","total","_hoisted_15","_hoisted_17","_createCommentVNode","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_component_v_form","onSubmit","$options","createOrder","errors","_hoisted_23","_hoisted_24","_component_v_field","modelValue","form","user","email","_cache","$event","_normalizeClass","rules","name","type","placeholder","_component_ErrorMessage","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","tel","_hoisted_29","_hoisted_30","address","_hoisted_31","_hoisted_32","message","cols","rows","_hoisted_33","components","ProgressBar","data","methods","api","this","$http","post","then","res","console","log","success","emitter","emit","$router","push","orderId","getCart","get","created"],"sourceRoot":""}